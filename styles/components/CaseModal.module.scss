/* Force modal above header and any stacking contexts */
.backdrop {
  position: fixed;
  inset: 0;
  z-index: var(--token-z-modal, 99999);
  pointer-events: auto;
  display: flex;
  align-items: stretch;
  justify-content: center;
  background: var(--token-backdrop, rgba(0, 0, 0, 0.6));
  -webkit-overflow-scrolling: touch;
}

/* FULL-BLEED modal content: cover header and entire viewport */
.modalContent {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100vh;
  z-index: calc(var(--token-z-modal, 99999) + 1);
  max-width: none;
  border-radius: 0;
  overflow: auto;
  padding: env(safe-area-inset-top) var(--space-6, 1.5rem) var(--space-8, 2rem) var(--space-6, 1.5rem);
  display: flex;
  flex-direction: column;
  background: var(--token-surface, #fff); /* explicit white background via tokens */
}

/* close button fixed in top-right of viewport/modal */
.closeBtn {
  z-index: calc(var(--token-z-modal, 99999) + 2);
  position: fixed;
  top: calc(env(safe-area-inset-top) + 12px);
  right: 12px;
  background: transparent;
  border: 0;
  font-size: var(--font-size-xl, 2.5rem);
  line-height: 1;
  cursor: pointer;
  color: var(--token-text, var(--color-text, #000));
}

/* Keep header inside modalContent sticky at top */
.modalHeader {
  position: sticky;
  top: 0;
  z-index: 3;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px 24px;
  background: rgba(255, 255, 255, 0.96);
  backdrop-filter: blur(6px);
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
}

/* Body grows and scrolls independently */
.modalBody {
  flex: 1 1 auto;
  padding: 24px;
  overflow: auto;
}

/* responsive: keep full-bleed on small screens too */
@media (max-width: 720px) {
  .backdrop {
    padding: 0;
  }
  .modalContent {
    padding: env(safe-area-inset-top) var(--space-4, 1rem) var(--space-6, 1.25rem);
  }
  .closeBtn {
    top: calc(env(safe-area-inset-top) + 8px);
    right: 10px;
  }
}